<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Account</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Aboreto&family=Jost:wght@300;400;500;600&display=swap"
    rel="stylesheet">
  <!-- Comment out external stylesheet to isolate conflicts -->
  <link rel="stylesheet" href="/styles/userStyles.css">

</head>

<body>
  <div class="auth-wrapper">
    <div class="auth-container">
<div class="auth-image-section">
  <a href="/"> 
    <img src="/images/e543e77e342361b6f38d3bf73c585146.jpg" alt="App Image" />
  </a>
</div>
      <div class="auth-form-section">
        <h2 class="auth-heading">Login</h2>
        <form id="formid" action="/login" method="POST">


          <input type="email" class="form-control" name="email" id="email" placeholder="Email">
          <div id="error2" class="error-message"></div>



          <input type="password" class="form-control" name="password" id="password" placeholder="Password">


          <div class="password-wrapper">

            <a href="/forgot-password" class="forgot-password">Forgot password?</a>
          </div>
          <div id="error4" class="error-message"></div>



          <% if (locals.message && message.length> 0) { %>
            <div class="alert alert-danger text-message">
              <%= message %>
            </div>
            <% } %>

              <button type="submit" class="btn auth-btn">LOGIN</button>

              <div class="divider">OR</div>

              <a href="/auth/google" class="btn google-btn">
                <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google">
                Continue with Google
              </a>

              <div class="auth-footer">
                Don't have an account? <a href="/signup">Sign up</a>
              </div>
        </form>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const messageEl = document.getElementById('message');
      if (messageEl) {
        const message = messageEl.textContent.trim();
        if (message) {
          Swal.fire(message);
        }
      }

      document.querySelector('form').addEventListener('submit', formValidate)
    })


    function formValidate(e) {
      e.preventDefault()

      let password = document.getElementById('password').value
      let email = document.getElementById('email').value

      if (password == '' || email == '') {
        Swal.fire('All fields are required');
        return false;
      }
      else if (password.length < 6) {
        Swal.fire('Password must be at least 6 characters')
        return false
      }
      e.target.submit()
      return true
    }



  </script>
</body>

</html>